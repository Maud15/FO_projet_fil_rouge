<div class="calendar-app">

    <div id='calendar-sidebar' class="">
        <button type="button" (click)="toggleSidebar()" class="toggle-sidebar fc-icon fc-icon-chevrons-left"></button>
        <div id="sidebar-container">

            <section id="sidebar-infos">
                <h2 (click)="toggleSidebarSection($event,'sidebar-infos')">
                    <div class="fc-icon fc-icon-chevron-right rotate90"></div>
                    Infos
                </h2>
                <ul>
                    <li>Propri√©taire : <b>{{ user.pseudo }}</b></li>
                    <li>Collaborateurs : </li>
                </ul>
            </section>
            <section id="sidebar-options">
                <h2 (click)="toggleSidebarSection($event,'sidebar-options')">
                    <div class="fc-icon fc-icon-chevron-right rotate90"></div>
                    Options
                </h2>
                <ul>
                    <li class="calendar-option">
                        <label for="display-weekends">
                            <input id="display-weekends"
                                type='checkbox'
                                [checked]='calendarOptions.weekends'
                                (change)='handleWeekendsToggle()'
                            />
                            Afficher les weekends
                        </label>
                    </li>
                </ul>
            </section>
            <section id="sidebar-events">
                <h2 (click)="toggleSidebarSection($event,'sidebar-events')">
                    <div class="fc-icon fc-icon-chevron-right rotate90"></div>
                    All Events ({{currentEvents.length}})
                </h2>
                <ul>
                    <li *ngFor='let event of currentEvents'>
                        <b>{{event.startStr}} - </b>
                        <span>{{event.title}}</span>
                    </li>
                </ul>
            </section>
            <section id="sidebar-help" class="closed">
                <h2 (click)="toggleSidebarSection($event,'sidebar-help')">
                    <div class="fc-icon fc-icon-chevron-right"></div>
                    Help
                </h2>
                <ul>
                    <li>Select dates and you will be prompted to create a new event</li>
                    <li>Drag, drop, and resize events</li>
                    <li>Click an event to delete it</li>
                </ul>
            </section>

        </div>
    </div>



    <div id='calendar-main'>
        <full-calendar *ngIf='calendarVisible' [options]='calendarOptions' [events]="events">
            <ng-template #eventContent let-arg>
                <div style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap">
                    <b>{{ arg.timeText }}</b>
                    <span *ngIf='arg.timeText.length>0 && arg.event.title.length>0'> </span>
                    <span>{{ arg.event.title }}</span>
                </div>
            </ng-template>
        </full-calendar>
    </div>

</div>
